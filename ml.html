<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Voice For health</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link
      href="https://www.jqueryscript.net/css/jquerysctipttop.css"
      rel="stylesheet"
      type="text/css"
    />
    <link rel="stylesheet" href="ml/manage-audio.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
      integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
      crossorigin="anonymous"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.9/css/intlTelInput.css"
      rel="stylesheet"
      media="screen"
    />
    <script src="ml/flag.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.9/js/intlTelInput.js"></script>
  </head>

  <body onload="fnBrowserDetect()">
    <h1></h1>
    <div id="MAIN">
      <h1>VHS SISTEM RAKAMAN</h1>
      <p class="lead">
        Meneroka kesihatan fizikal dan mental melalui bunyi<br />Mencegah lebih
        baik daripada mengubatiâ€¦
      </p>

      <div class="recorder-instructions">
        <p1>Arahan</p1>
        <div class="step-1A">
          <h2>Langkah 1 &#45; Cari ruang yang sunyi</h2>
          <p>
            - Pastikan anda mematikan kipas/aircond, jika tidak, ia akan
            menjejaskan keputusan ujian.
          </p>
          <p>- Letakkan telefon anda pada mod senyap.</p>
        </div>

        <div class="step-2A">
          <h2>Langkah 2 &#45; Pra-rakaman</h2>
          <p>
            - Sila gunakan mikrofon telefon untuk merakam, jangan gunakan fon
            telinga!!!
          </p>
          <p>
            - Hanya klik "Mulakan Rakaman" apabila anda mempunyai rangkaian
            internet yang stabil.
          </p>
        </div>

        <div class="step-3A">
          <h2>Langkah 3 &#45; Klik "Mulakan Rakaman"</h2>
          <p>
            - Pegang telefon anda pada kedudukan yang selesa dan dekatkan mulut
            anda dengan mikrofon.
          </p>
          <p>
            - Baca skrip bacaan di bawah dengan kuat pada kadar pertuturan biasa
            anda sehingga bar kemajuan mencapai 100%.
          </p>
        </div>

        <div class="step-4A">
          <h2>Langkah 4 &#45; Klik "Hentikan/Buat Semula Rakaman"</h2>
          <p>
            - Anda boleh mengklik "Hentikan Rakaman" jika anda ingin membatalkan
            rakaman.
          </p>
          <p>
            - Anda boleh menyemak rakaman melalui pemain audio. Jika anda tidak
            berpuas hati, anda boleh klik "Buat Semula Rakaman".
          </p>
          <p>- Selepas mengesahkan rakaman, klik "Seterusnya".</p>
        </div>

        <div class="step-5A">
          <h2>Langkah 5 &#45; Isikan butiran peribadi</h2>
          <p>
            - Sila berikan maklumat yang benar dan lengkap, jika tidak, ia akan
            menjejaskan kami untuk memberikan laporan kesihatan fizikal dan
            mental anda.
          </p>
        </div>

        <div class="step-6A">
          <h2>Langkah 6 &#45; Klik "Muat Naik Rakaman"</h2>
          <p>- Selepas mengisi butiran peribadi, klik "Muat Naik Rakaman".</p>
          <p>
            - Masa muat naik bergantung pada kelajuan internet, tetapi biasanya
            mengambil masa 1-2 minit.
          </p>
          <p>
            - Apabila "Rakaman anda berjaya dimuat naik. Terima kasih!" muncul,
            ini bermakna ia telah selesai.
          </p>
          <p>- Kami akan menghubungi anda dalam masa 24 jam.</p>
        </div>
      </div>

      <div class="mic">
        <select name="" id="micSelect"></select>

        <select id="visSelect" class="hidden">
          <option value="frequencybars">Bar</option>
          <option value="sinewave">Wave</option>
          <option value="circle">Circle</option>
        </select>
      </div>

      <div id="main-block" class="hidden">
        <h3>Maklumat Peribadi</h3>
        <form action="index.html" name="google-sheet">
          <hr />
          <label id="icon" for="name"><i class="fas fa-user"></i></label>
          <input
            type="text"
            name="name"
            id="name"
            placeholder="Nama"
            required
          />
          <br />

          <label id="icon" for="name"><i class="fas fa-envelope"></i></label>
          <input
            type="text"
            name="email"
            id="email"
            placeholder="E-Mel"
            required
          />
          <br />

          <label id="icon" for="name"><i class="fas fa-phone"></i></label>
          <input type="tel" name="mobile" id="mobile" required />

          <br />
          <label id="icon" for="name"><i class="fas fa-calendar"></i></label>
          <input
            type="text"
            name="dob"
            id="dob"
            placeholder="Tarikh lahir (DD/MM/YYYY)"
            required
          />

          <div class="sex">
            <label id="icon" for="name"
              ><i class="fas fa-venus-mars"></i
            ></label>
            <input type="radio" value="Male" id="male" name="gender" />
            <label for="male" class="radio">Lelaki</label>
            <input type="radio" value="Female" id="female" name="gender" />
            <label for="female" class="radio">Perempuan</label>
          </div>

          <label id="icon" for="name"><i class="fas fa-pills"></i></label>
          Adakah anda sedang mengambil ubat barat?
          <br />
          <div class="medicine">
            <input type="radio" value="Yes" id="med_yes" name="med" />
            <label for="med_yes" class="radio">Ya</label>
            <input type="radio" value="No" id="med_no" name="med" />
            <label for="med_no" class="radio">Tidak</label>
          </div>
          <br />

          <label id="icon" for="name"><i class="fas fa-id-card"></i></label>
          <input
            type="text"
            name="referral"
            id="referral"
            placeholder="Masukkan kod rujukan (jika ada)"
            required
          />
          <br />
          <hr />
        </form>
      </div>

      <div class="audio-controls">
        <button id="submit" class="hidden">
          Muat Naik Rakaman <i class="fas fa-upload"></i>
        </button>
        <button id="next" class="hidden">
          Seterusnya <i class="fas fa-caret-square-right"></i>
        </button>
      </div>

      <div class="audio-controls">
        <button id="record">
          Mulakan Rakaman <i class="fas fa-microphone"></i>
        </button>
        <button id="stop" class="hidden">
          Hentikan Rakaman <i class="fas fa-microphone-slash"></i>
        </button>
        <button id="redo" class="hidden">
          Rekod Semula <i class="fas fa-microphone"></i>
        </button>
      </div>

      <div id="viz">
        <canvas id="analyser" width="1024" height="200" class="hidden"></canvas>
      </div>

      <div id="progress" class="hidden">
        <div id="p_bar" class="bar" style="width: 0%">
          <p id="p_percent" class="percent">0%</p>
        </div>
      </div>

      <div class="audio-playback">
        <audio id="audio" controls class="hidden"></audio>
      </div>

      <div id="script">
        <div class="reading-script">
          <h3>Skrip Bacaan</h3>
          <div class="step-1A">
            Visi Voice for Health adalah untuk membawa kesedaran dan
            kemudahan Vocal Biomarker teknologi kepada dunia melalui rakan
            sekerja kami.
            <br /><br />
            Voice for health menawarkan penyelesaian perisian dalam talian yang inovatif
            yang mengukur corak dalam frekuensi suara dan otak, dan
            menterjemahkannya ke dalam pelbagai tahap kesejahteraan emosi dan
            kesihatan fizikal.
            <br /><br />
            Teknologi teras ini dikembangkan di Belanda berdasarkan kajian dalam
            Fizik, Fizik Kuantum, Biokimia, Epigenetik, Psikologi dan bidang
            penyelidikan lain dari pelbagai univers iti di seluruh dunia. Dengan
            menggunakan teknologi AI dan Big Data, perisian ini dapat
            menghubungkan getaran vokal dan gelombang otak dengan emosi. Sistem
            mengenal pasti dan menentukan emosi yang mendasari dengan
            menghubungkan input vokal atau gelombang otak dengan algoritma
            proses tertentu di bahagian otak yang berlainan.
            <br /><br />
            Perisian ini dapat mengukur kecerdasan emosi dan kesihatan fizikal
            anda dan menghasilkan laporan peribadi anda. Laporan kesihatan emosi
            menunjukkan tahap tekanan anda, keadaan emosi, bawah sedar, potensi
            dalaman, tingkah laku, ciri dan keperibadian yang konstruktif dan
            terhad, deria pembelajaran dan komunikasi. Laporan kesihatan fizikal
            menunjukkan potensi risiko kesihatan anda untuk pengurusan awal.

            <br /><br />
            Testimoni Pelanggan 1 : Alat yang luar biasa untuk mengetahui dan
            memahami potensi dan kelemahan diri anda. Ia dapat mengatasi tekanan
            anda dan menenangkan fikiran.
            <br /><br />
            Testimoni Pelanggan 2: Perisian ini adalah alat yang berguna untuk
            membantu profesional pembangunan peribadi memahami proses dan
            tingkah laku mental pelanggan mereka untuk merancang terapi atau
            merancang intervensi yang dapat membantu klien.

            <br /><br />
            ***Ulang bacaan sehingga bar kemajuan mencapai 100%.
            <br /><br /><br /><br /><br /><br />
          </div>
        </div>
      </div>

      <svg class="arrow">
        <path id="a1" d="M0 0 L15 22 L30 0"></path>
      </svg>

      <!--<div id="transbox_1" class="hidden">
      <div class="wrapper">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="shadow"></div>
        <div class="shadow"></div>
        <div class="shadow"></div>
        <span>Pemprosesan...</span>
      </div>
    </div>-->
    </div>

    <div id="transbox_2" class="hidden">
      <div class="wrapper">
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="circle"></div>
        <div class="shadow"></div>
        <div class="shadow"></div>
        <div class="shadow"></div>
        <span>Memuat Naik...</span>
      </div>
    </div>

    <script>
      document.addEventListener("scroll", handleScroll);
      var rootElement = document.documentElement;

      // function otherReferral() {
      //   var referralOption = document.getElementById("referral").value;

      //   if (referralOption == "Other") {
      //     $("#oth_referral").removeClass("hidden");
      //   }
      //   else {
      //     $("#oth_referral").addClass("hidden");
      //   }
      // }

      function handleScroll() {
        // Do something on scroll
        var scrollTotal = rootElement.scrollHeight - rootElement.clientHeight;
        if (rootElement.scrollTop / scrollTotal > 0.95) {
          // Show button
          document.getElementById("a1").classList.add("hidden");
        } else if (rootElement.scrollTop / scrollTotal < 0.9) {
          // Hide button
          document.getElementById("a1").classList.remove("hidden");
        }
      }

      function fnBrowserDetect() {
        var parser = new UAParser();
        var browserName = Object.values(
          parser.getResult().browser
        )[0].toLowerCase();
        var os = Object.values(parser.getResult().os)[0].toLowerCase();
        var ver = Object.values(parser.getResult().os)[1].toLowerCase();

        //document.querySelector("h1").innerText = os +" "+parseInt(ver);

        /*if ((browserName.match(/edge/i))||(browserName.match(/chrome/i))||(browserName.match(/webview/i))) {          
        $("#MAIN").addClass("hidden")
        //document.querySelector("h1").innerText = "Maaf, penyemak imbas anda tidak disokong!\n Untuk pengalaman terbaik, sila gunakan mana-mana penyemak imbas yang disokong ini:\n Firefox, Safari, QQ or WeChat.";
        alert('Maaf, penyemak imbas anda tidak disokong!\n Untuk pengalaman terbaik, sila gunakan mana-mana penyemak imbas yang disokong ini:\n Firefox, Safari, QQ or WeChat.')
        location.replace("https://"+window.location.hostname)
      }*/

        if (browserName.match(/webview/i)) {
          $("#MAIN").addClass("hidden");
          //document.querySelector("h1").innerText = "Maaf, penyemak imbas anda tidak disokong!\n Untuk pengalaman terbaik, sila gunakan mana-mana penyemak imbas yang disokong ini:\n Firefox, Safari, QQ or WeChat.";
          alert(
            "Maaf, penyemak imbas anda tidak disokong!\n Untuk pengalaman terbaik, sila gunakan mana-mana penyemak imbas yang disokong ini:\n Chrome, Firefox, Safari, QQ or WeChat."
          );
          location.replace("https://" + window.location.hostname);
        }

        if (os.match(/android/i) && parseInt(ver) < 10) {
          $("#MAIN").addClass("hidden");
          //document.querySelector("h1").innerText = "Maaf, versi Android anda tidak disokong!\n Pada masa ini sistem menyokong Android versi 10.0 dan ke atas.";
          alert(
            "Maaf, versi Android anda tidak disokong!\n Pada masa ini sistem menyokong Android versi 10.0 dan ke atas."
          );
          location.replace("https://" + window.location.hostname);
        }

        if (os.match(/mac os/i) && parseInt(ver) < 10) {
          $("#MAIN").addClass("hidden");
          //document.querySelector("h1").innerText = "Maaf, versi Mac OS anda tidak disokong!\n Pada masa ini sistem menyokong Mac OS versi 10.0 dan ke atas.";
          alert(
            "Maaf, versi Mac OS anda tidak disokong!\n Pada masa ini sistem menyokong Mac OS versi 10.0 dan ke atas."
          );
          location.replace("https://" + window.location.hostname);
        }

        if (os.match(/ios/i) && parseInt(ver) < 14) {
          $("#MAIN").addClass("hidden");
          //document.querySelector("h1").innerText = "Maaf, versi iOS anda tidak disokong!\n Pada masa ini sistem menyokong iOS versi 14.0 dan ke atas.";
          alert(
            "Maaf, versi iOS anda tidak disokong!\n Pada masa ini sistem menyokong iOS versi 14.0 dan ke atas."
          );
          location.replace("https://" + window.location.hostname);
        }

        //Get/Set associate code
        let a_code = getCookie("assoc_code");
        const url = window.location.href;
        console.log(url);
        console.log(a_code);

        const urlParams = new URLSearchParams(window.location.search);

        if (urlParams.has("rf")) {
          const rf = urlParams.get("rf");
          console.log(rf);
          setCookie("assoc_code", rf, 365);
          document.getElementById("referral").value = rf;
          document.getElementById("referral").readOnly = true;
          console.log("1");
        } else if (a_code != "") {
          setCookie("assoc_code", a_code, 365);
          document.getElementById("referral").value = a_code;
          document.getElementById("referral").readOnly = true;
          console.log("2");
        } else {
          console.log("3");
        }
      }

      function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
        let expires = "expires=" + d.toUTCString();
        document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
      }

      function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(";");
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) == " ") {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
      }
    </script>

    <script src="ml/mobile_script.js"></script>
    <script src="ml/script_ml.js"></script>
    <script src="ml/wave-resampler.js"></script>
    <script src="ml/jquery.min.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <script src="https://unpkg.com/libphonenumber-js/bundle/libphonenumber-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/UAParser.js/0.7.20/ua-parser.min.js"></script>
  </body>
</html>
